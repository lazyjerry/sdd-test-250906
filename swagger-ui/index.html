<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Laravel API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css" />
    <link rel="icon" type="image/png" href="https://unpkg.com/swagger-ui-dist@5.9.0/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="https://unpkg.com/swagger-ui-dist@5.9.0/favicon-16x16.png" sizes="16x16" />
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }

        *, *:before, *:after {
            box-sizing: inherit;
        }

        body {
            margin:0;
            background: #fafafa;
        }

        .swagger-ui .topbar {
            background-color: #2c3e50;
        }

        .swagger-ui .topbar .download-url-wrapper .download-url-button {
            background-color: #3498db;
        }

        .custom-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .custom-header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }

        .custom-header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        .api-info {
            background: white;
            padding: 20px;
            margin: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .api-info h3 {
            color: #2c3e50;
            margin-top: 0;
        }

        .endpoint-group {
            margin-bottom: 15px;
        }

        .endpoint-group h4 {
            color: #34495e;
            margin-bottom: 5px;
        }

        .endpoint-list {
            list-style: none;
            padding: 0;
        }

        .endpoint-list li {
            background: #f8f9fa;
            padding: 8px 12px;
            margin: 3px 0;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }

        .method {
            font-weight: bold;
            color: #27ae60;
        }

        .method.post { color: #f39c12; }
        .method.put { color: #e67e22; }
        .method.delete { color: #e74c3c; }
    </style>
</head>

<body>
    <div class="custom-header">
        <h1>Laravel 12 API Documentation</h1>
        <p>完整的 RESTful API 文檔 - 用戶認證、個人資料管理、管理員功能</p>
    </div>

    <div class="api-info">
        <h3>📋 API 概覽</h3>
        <p>這個 API 提供完整的用戶管理系統，包含認證、個人資料管理和管理員功能。所有 API 都使用 JSON 格式進行通信。</p>
        
        <div class="endpoint-group">
            <h4>🔐 認證相關 API</h4>
            <ul class="endpoint-list">
                <li><span class="method post">POST</span> /api/v1/auth/register - 用戶註冊</li>
                <li><span class="method post">POST</span> /api/v1/auth/login - 用戶登入</li>
                <li><span class="method post">POST</span> /api/v1/auth/logout - 用戶登出</li>
                <li><span class="method post">POST</span> /api/v1/auth/forgot-password - 忘記密碼</li>
                <li><span class="method post">POST</span> /api/v1/auth/reset-password - 重設密碼</li>
                <li><span class="method post">POST</span> /api/v1/auth/verify-email - 驗證郵箱</li>
            </ul>
        </div>

        <div class="endpoint-group">
            <h4>👤 用戶管理 API</h4>
            <ul class="endpoint-list">
                <li><span class="method">GET</span> /api/v1/users/profile - 獲取個人資料</li>
                <li><span class="method put">PUT</span> /api/v1/users/profile - 更新個人資料</li>
                <li><span class="method put">PUT</span> /api/v1/users/change-password - 修改密碼</li>
            </ul>
        </div>

        <div class="endpoint-group">
            <h4>⚙️ 管理員功能 API</h4>
            <ul class="endpoint-list">
                <li><span class="method">GET</span> /api/v1/admin/users - 獲取用戶列表</li>
                <li><span class="method">GET</span> /api/v1/admin/users/{id} - 獲取用戶詳情</li>
                <li><span class="method put">PUT</span> /api/v1/admin/users/{id} - 更新用戶資料</li>
                <li><span class="method post">POST</span> /api/v1/admin/users/{id}/reset-password - 重設用戶密碼</li>
            </ul>
        </div>

        <div style="margin-top: 20px; padding: 15px; background: #e8f4fd; border-radius: 5px; border-left: 4px solid #3498db;">
            <strong>💡 認證說明：</strong> 除了註冊、登入和忘記密碼等公開端點外，所有 API 都需要在 Header 中提供 Bearer Token：
            <code style="background: #f1f2f6; padding: 3px 6px; border-radius: 3px; margin-left: 5px;">Authorization: Bearer YOUR_TOKEN_HERE</code>
        </div>
    </div>

    <div id="swagger-ui"></div>

    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
    <script>
        window.onload = function() {
            // Begin Swagger UI call region
            const ui = SwaggerUIBundle({
                url: './api-docs.json',
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                defaultModelsExpandDepth: 1,
                defaultModelExpandDepth: 1,
                docExpansion: "list",
                tryItOutEnabled: true,
                requestInterceptor: function(request) {
                    // 自動添加 Content-Type header for JSON requests
                    if (request.method === 'POST' || request.method === 'PUT' || request.method === 'PATCH') {
                        request.headers['Content-Type'] = 'application/json';
                    }
                    return request;
                },
                onComplete: function(swaggerApi, swaggerUi) {
                    console.log("Swagger UI 載入完成");
                }
            });
            // End Swagger UI call region

            window.ui = ui;
        };
    </script>
</body>
</html>
